print(sum([[max_colors[0] * max_colors[1] * max_colors[2] for max_colors in [[[max([int(list_colors[i-1]) for i, word in enumerate(list_colors) if word == color]) for list_colors in ["".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()]][0] for color in ["red", "green", "blue"]]]][0] for line in open('input.txt').readlines()]))
