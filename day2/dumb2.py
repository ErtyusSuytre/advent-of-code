print(sum([max([int("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()[i-1]) for i, word in enumerate("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()) if word == "red"]) * max([int("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()[i-1]) for i, word in enumerate("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()) if word == "green"]) * max([int("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()[i-1]) for i, word in enumerate("".join("".join(line.rstrip().split(':')[1].split(';')).split(',')).split()) if word == "blue"]) for line in open('input.txt').readlines()]))